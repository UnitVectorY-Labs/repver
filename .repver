# https://github.com/UnitVectorY-Labs/repver
commands:
 - name: "goversion"
   params:
   - name: "version"
     pattern: "^(?P<major>0|[1-9]\\d*)\\.(?P<minor>0|[1-9]\\d*)\\.(?P<patch>0|[1-9]\\d*)$"
   targets:
   - path: "go.mod"
     pattern: "^go (?P<version>.*) // GOVERSION$"
     transform: "{{major}}.{{minor}}.{{patch}}"
   - path: ".github/workflows/build-go.yml"
     pattern: "^          go-version: '(?P<version>.*)' # GOVERSION$"
     transform: "{{major}}.{{minor}}.{{patch}}"
   git:
     create_branch: true
     branch_name : "go-v{{version}}"
     commit: true
     commit_message: "Update Go version to {{version}}"
     push: true
     remote: "origin"
     pull_request: "GITHUB_CLI"
     return_to_original_branch: true
     delete_branch: true
 - name: "justthedocsversion"
   targets:
   - path: "docs/_config.yml"
     pattern: "^remote_theme: just-the-docs/just-the-docs@(?P<version>.*)$"
   git:
     create_branch: true
     branch_name : "just-the-docs-{{version}}"
     commit: true
     commit_message: "Update just-the-docs version to {{version}}"
     push: true
     remote: "origin"
     pull_request: "GITHUB_CLI"
     return_to_original_branch: true
     delete_branch: true
